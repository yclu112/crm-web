import{_ as e}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-25415f8a.js";import{J as r,K as p,d as t,r as a,a as o,o as l,e as s,f as i,u as n,ab as d,ac as u}from"./index-6dfdc0ee.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./print-7c839e56.js";const w={page:e=>r.post(p+"/operLog/page",e)},h={class:"table-box"},b=t({__name:"LogManage",setup(r){const p=a(),t=o({}),b=e=>({list:e.list,total:e.total}),c=[{type:"selection",fixed:"left",width:60},{prop:"title",label:"模块标题",width:200},{prop:"operType",label:"业务类型",width:120,render(e){let r=0===e.row.operType?"其他":1==e.row.operType?"查询":2===e.row.operType?"修改":"删除",p=0===e.row.operType?"danger":1===e.row.operType?"success":2===e.row.operType?"warning":"info";return d(u,{type:p},()=>r)}},{prop:"operUrl",label:"请求URL",width:200,search:{el:"input"}},{prop:"operIp",label:"主机地址",width:120},{prop:"operLocation",label:"操作地点",width:120},{prop:"operName",label:"操作人员",width:120,search:{el:"input"}},{prop:"status",label:"操作状态",width:120,render(e){const r=1===e.row.status?"失败":"成功",p=1===e.row.status?"danger":"success";return d(u,{type:p},()=>r)}},{prop:"requestMethod",label:"请求方法",width:120},{prop:"errorMsg",label:"错误消息",width:260},{prop:"costTime",label:"消耗时间",width:120},{prop:"jsonResult",label:"返回参数",width:200},{prop:"method",label:"方法名称",width:120},{prop:"operParam",label:"请求参数",width:200},{prop:"operTime",label:"操作时间",search:{el:"date-picker",props:{type:"datetimerange"},span:3},width:200}];return(r,a)=>(l(),s("div",h,[i(e,{ref_key:"proTable",ref:p,title:"日志列表",columns:c,requestApi:n(w).page,initParam:t,dataCallback:b,searchCol:{xs:2,sm:3,md:4,lg:6,xl:8}},null,8,["requestApi","initParam"])]))}});export{b as default};
