import{u as e}from"./useHandleData-bcc6e8c1.js";import{_ as a}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-25415f8a.js";import t from"./RoleDialog-499a23d3.js";import{d as i,r as l,a as o,b as s,c as r,o as n,e as p,f as c,w as m,g as u,h as d,i as _,u as f,m as y,af as b,n as k,H as g}from"./index-6dfdc0ee.js";import{a as v,d as w,b as x,e as C}from"./index-92b7ec21.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./print-7c839e56.js";import"./Dialog.vue_vue_type_style_index_0_lang-6e721bb1.js";const h={class:"table-box"},j=i({__name:"Role",setup(i){const j=l(),T=o({}),P=e=>({list:e.list,total:e.total}),H=e=>{let a={...e};return v(a)},D=[{type:"selection",fixed:"left",width:60},{prop:"name",label:"角色名称",search:{el:"input"}},{prop:"remark",label:"备注"},{prop:"createTime",label:"创建时间",width:200},{prop:"operation",label:"操作",fixed:"right",width:330}],L=l(),R=(e,a={})=>{let t={title:e,row:{...a},isView:"查看"===e,api:"新增"===e?x:"编辑"===e?C:"",getTableList:j.value.getTableList};L.value.acceptParams(t)};return(i,l)=>{const o=s("el-button"),v=r("hasPermi");return n(),p("div",h,[c(a,{ref_key:"proTable",ref:j,title:"管理员列表",columns:D,requestApi:H,initParam:T,dataCallback:P,searchCol:{xs:2,sm:3,md:4,lg:6,xl:8}},{tableHeader:m(()=>[u((n(),d(o,{type:"primary",icon:f(y),onClick:l[0]||(l[0]=e=>R("新增"))},{default:m(()=>[...l[1]||(l[1]=[_("新增角色",-1)])]),_:1},8,["icon"])),[[v,["sys:role:add"]]])]),operation:m(a=>[u((n(),d(o,{type:"info",link:"",icon:f(b),onClick:e=>R("查看",a.row)},{default:m(()=>[...l[2]||(l[2]=[_("查看",-1)])]),_:1},8,["icon","onClick"])),[[v,["sys:role:view"]]]),u((n(),d(o,{type:"primary",link:"",icon:f(k),onClick:e=>R("编辑",a.row)},{default:m(()=>[...l[3]||(l[3]=[_("编辑",-1)])]),_:1},8,["icon","onClick"])),[[v,["sys:role:edit"]]]),u((n(),d(o,{type:"danger",link:"",icon:f(g),onClick:t=>(async a=>{await e(w,[a.id],`删除【${a.name}】角色`),j.value.getTableList()})(a.row)},{default:m(()=>[...l[4]||(l[4]=[_("删除",-1)])]),_:1},8,["icon","onClick"])),[[v,["sys:role:remove"]]])]),_:1},8,["initParam"]),c(t,{ref_key:"dialogRef",ref:L},null,512)])}}});export{j as default};
