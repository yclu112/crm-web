import{_ as t}from"./Dialog.vue_vue_type_style_index_0_lang-6e721bb1.js";import{p as l}from"./print-7c839e56.js";import{d as a,r as e,b as n,o as r,h as i,w as u,v as s,f as o,i as _,A as d,e as c,B as m,F as p,u as v}from"./index-6dfdc0ee.js";const h={class:"contract-print"},w={class:"no-print",style:{"text-align":"right","margin-bottom":"20px"}},g={id:"printArea",class:"contract-content"},y={class:"contract-subtitle"},x={class:"info-table"},b={style:{"text-align":"right"}},f={colspan:"2"},A={class:"product-table"},j=a({__name:"PrintContractDialog",setup(a,{expose:j}){const k=e(!1),P=e({isView:!1,title:"",row:{},labelWidth:120,fullscreen:!1,maxHeight:"500px"});j({acceptParams:t=>{t.row={...P.value.row,...t.row},P.value={...P.value,...t},k.value=!0}});const T=t=>{k.value=!1;(["查看","编辑"].includes(P.value.title)||t)&&(P.value.row={})},C=()=>{l({printable:"printArea",type:"html",targetStyles:["*"],scanStyles:!0,style:"\n      @media print {\n        @page { size: landscape !important; margin: 5mm !important; }\n        #printArea { width: 100% !important; max-width: 280mm !important; margin: 0 auto !important; }\n        .contract-content { width: 100% !important; padding: 0 10mm !important; }\n      }\n    "})};return(l,a)=>{const e=n("el-button");return r(),i(v(t),{"model-value":k.value,title:P.value.title,fullscreen:!0,"max-height":P.value.maxHeight,"cancel-dialog":T,width:"100%"},{default:u(()=>[s("div",h,[s("div",w,[o(e,{type:"primary",onClick:C},{default:u(()=>[...a[0]||(a[0]=[_("打印合同",-1)])]),_:1})]),s("div",g,[a[2]||(a[2]=s("h2",{class:"contract-title"},"合 同",-1)),s("h3",y,d(P.value.row.name),1),s("table",x,[s("tr",null,[s("td",null,"合同编号："+d(P.value.row.number),1),s("td",b,"下单日期："+d(P.value.row.signTime),1)]),s("tr",null,[s("td",null,"客户名称："+d(P.value.row.customerName),1)]),s("tr",null,[s("td",null,"开始日期："+d(P.value.row.startTime),1),s("td",null,"结束日期："+d(P.value.row.endTime),1)]),s("tr",null,[s("td",null,"合同金额："+d(P.value.row.amount),1),s("td",null,"已收款："+d(P.value.row.receivedAmount),1)]),s("tr",null,[s("td",f,"备注："+d(P.value.row.remark),1)])]),s("table",A,[a[1]||(a[1]=s("thead",null,[s("tr",null,[s("th",{colspan:"6"},"购买产品或服务")]),s("tr",null,[s("th",null,"名称"),s("th",null,"数量"),s("th",null,"单价"),s("th",null,"小计")])],-1)),s("tbody",null,[(r(!0),c(p,null,m(P.value.row.products,(t,l)=>(r(),c("tr",{key:l},[s("td",null,d(t.pName),1),s("td",null,d(t.count),1),s("td",null,d(t.price),1),s("td",null,d(t.totalPrice),1)]))),128))])]),a[3]||(a[3]=s("div",{class:"signature-section"},[s("div",{class:"party"},[s("div",null,"甲方"),s("div",null,"盖章签名：__________"),s("div",null,"日期：__________")]),s("div",{class:"party"},[s("div",null,"乙方"),s("div",null,"盖章签名：__________"),s("div",null,"日期：__________")])],-1))])])]),_:1},8,["model-value","title","max-height"])}}});export{j as _};
