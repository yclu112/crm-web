import{d as e,r as l,l as a,a as t,b as o,o as m,h as u,w as d,f as r,i as s,u as p,E as n}from"./index-6dfdc0ee.js";const i=e({__name:"ApprovalDialog",props:{modelValue:{type:Boolean},approvalType:{},contractId:{}},emits:["update:modelValue","submit"],setup(e,{emit:i}){const c=e,v=i,f=l(c.modelValue);a(()=>c.modelValue,e=>{f.value=e}),a(f,e=>{v("update:modelValue",e)});const V=t({comment:""}),y={comment:[{required:!0,message:"请输入审核原因",trigger:"blur"}]},_=l(),b=2===c.approvalType?"审核通过":"审核不通过",g=async()=>{_.value&&(await _.value.validate(),v("submit",{id:c.contractId,type:c.approvalType,comment:V.comment}),f.value=!1,V.comment="",_.value.resetFields())},w=()=>{var e;f.value=!1,V.comment="",null==(e=_.value)||e.resetFields()};return(e,l)=>{const a=o("el-input"),t=o("el-form-item"),i=o("el-button"),c=o("el-dialog");return m(),u(c,{modelValue:f.value,"onUpdate:modelValue":l[1]||(l[1]=e=>f.value=e),title:p(b),width:"500px",onClose:w},{footer:d(()=>[r(i,{onClick:w},{default:d(()=>[...l[2]||(l[2]=[s("取消",-1)])]),_:1}),r(i,{type:"primary",onClick:g},{default:d(()=>[...l[3]||(l[3]=[s("确认提交",-1)])]),_:1})]),default:d(()=>[r(p(n),{ref_key:"formRef",ref:_,model:V,rules:y,"label-width":"80px"},{default:d(()=>[r(t,{label:"审核原因",prop:"comment"},{default:d(()=>[r(a,{modelValue:V.comment,"onUpdate:modelValue":l[0]||(l[0]=e=>V.comment=e),type:"textarea",rows:4,placeholder:"请输入审核通过/拒绝的具体原因"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}});export{i as _};
