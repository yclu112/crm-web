import{_ as e}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-25415f8a.js";import{d as a,r as t,a as i,b as r,c as s,o as l,e as o,f as p,w as n,g as m,h as _,i as u,u as d,m as c,n as f,aa as y}from"./index-6dfdc0ee.js";import{_ as g}from"./DepartmentDialog.vue_vue_type_script_setup_true_lang-eef482c9.js";import{u as b}from"./useHandleData-bcc6e8c1.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./print-7c839e56.js";import"./Dialog.vue_vue_type_style_index_0_lang-6e721bb1.js";const v={class:"table-box"},k=a({__name:"DepartmentManage",setup(a){const k=t(),w=i({}),x=e=>({list:e.list,total:e.total}),h=[{type:"selection",fixed:"left",width:60},{prop:"name",label:"部门名称",search:{el:"input"}},{prop:"level",label:"部门等级"},{prop:"createTime",label:"创建时间",width:200},{prop:"operation",label:"操作",fixed:"right",width:330}],j=t(),D=(e,a={})=>{let t={title:e,row:{...a},isView:"查看"===e,api:y.saveOrEdit,getTableList:k.value.getTableList,maxHeight:"300px"};j.value.acceptParams(t)};return(a,t)=>{const i=r("el-button"),T=s("hasPermi");return l(),o("div",v,[p(e,{ref_key:"proTable",ref:k,title:"部门列表",rowKey:"id",columns:h,requestApi:d(y).page,"data-callback":x,"init-param":w},{tableHeader:n(()=>[m((l(),_(i,{type:"primary",icon:d(c),onClick:t[0]||(t[0]=e=>D("新增"))},{default:n(()=>[...t[1]||(t[1]=[u("新增部门",-1)])]),_:1},8,["icon"])),[[T,["sys:department:add"]]])]),operation:n(e=>[m((l(),_(i,{type:"primary",link:"",icon:d(f),onClick:a=>D("编辑",e.row)},{default:n(()=>[...t[2]||(t[2]=[u("编辑",-1)])]),_:1},8,["icon","onClick"])),[[T,["sys:department:edit"]]]),m((l(),_(i,{type:"danger",link:"",icon:a.Delete,onClick:a=>(async e=>{await b(y.remove,{id:e.id},`删除【${e.name}】`),k.value.getTableList()})(e.row)},{default:n(()=>[...t[3]||(t[3]=[u("删除",-1)])]),_:1},8,["icon","onClick"])),[[T,["sys:department:remove"]]])]),_:1},8,["requestApi","init-param"]),p(g,{ref_key:"dialogRef",ref:j},null,512)])}}});export{k as default};
